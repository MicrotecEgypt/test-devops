<ng-container *ngIf="validId">
  <form [formGroup]="userForm" (ngSubmit)="submitForm()" class="mt-4">
    <div class="mb-3">
      <label for="photo" class="form-label">
        {{ "UserConfirmation.Photo" | translate }}
      </label>
      <input
        type="file"
        id="photo"
        accept="image/*"
        (change)="onFileSelected($event)"
      />
    </div>
    <div class="mb-3">
      <label for="fullName" class="form-label">{{
        "UserConfirmation.Name" | translate
      }}</label>
      <input
        type="text"
        id="fullName"
        formControlName="fullName"
        class="form-control"
        required
      />
      <span
      *ngIf="
        (userForm.controls['fullName'].dirty ||
          userForm.controls['fullName'].touched) &&
        userForm.hasError('required', 'fullName')
      "
      class="text-danger"
    >
      {{ "UserConfirmation.Name" | translate }}
      {{ "UserConfirmation.IsRequired" | translate }}
    </span>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">{{
        "UserConfirmation.Email" | translate
      }}</label>
      <input
        type="text"
        id="email"
        formControlName="email"
        class="form-control"
        readonly
      />
      <span
      *ngIf="
        (userForm.controls['email'].dirty ||
          userForm.controls['email'].touched) &&
        userForm.hasError('required', 'email')
      "
      class="text-danger"
    >
      {{ "UserConfirmation.Email" | translate }}
      {{ "UserConfirmation.IsRequired" | translate }}
    </span>
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">{{
        "UserConfirmation.Password" | translate
      }}</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        class="form-control"
        required
      />
      <span
        *ngIf="
          (userForm.controls['password'].dirty ||
            userForm.controls['password'].touched) &&
          userForm.hasError('required', 'password')
        "
        class="text-danger"
      >
        {{ "UserConfirmation.Password" | translate }}
        {{ "UserConfirmation.IsRequired" | translate }}
      </span>
      <div class="my-1">
        <span class="d-block"
          *ngIf="
            userForm.get('password')?.hasError('pattern') &&
            userForm.controls['password'].dirty
          "
          class="text-danger"
        >
          <span class="d-block"
            class="d-block"
            *ngIf="! userForm.controls['password'].value?.match('^(?=.*[A-Z])')"
            >
            {{ "UserConfirmation.UpperCaseLetter" | translate }}</span
          >
          <span class="d-block"
            class="d-block"
            *ngIf="! userForm.controls['password'].value?.match('(?=.*[a-z])')"
            > 
            {{ "UserConfirmation.LowerCaseLetter" | translate }}</span
          >
          <span class="d-block"
            class="d-block"
            *ngIf="!userForm.controls['password'].value?.match('(.*[0-9].*)')"
            > 
            {{ "UserConfirmation.PasswordmustcontainNumber" | translate }}</span
          >
          <span class="d-block"
            class="d-block"
           *ngIf="!userForm.controls['password'].value?.match('(?=.*[!@#$%^&*])')"
            >
            {{ "UserConfirmation.SpecialCharacter" | translate }}</span
          >
        </span>
      </div>
    </div>

    <div class="mb-3">
      <label for="confirmPassword" class="form-label">{{
        "UserConfirmation.ConfirmPassword" | translate
      }}</label>
      <input
        type="password"
        id="confirmPassword"
        formControlName="confirmPassword"
        class="form-control"
        required
      />
      <span
        *ngIf="
          (userForm.controls['confirmPassword'].dirty ||
            userForm.controls['confirmPassword'].touched) &&
          userForm.hasError('required', 'confirmPassword')
        "
        class="text-danger"
      >
        {{ "UserConfirmation.ConfirmPassword" | translate }}
        {{ "UserConfirmation.IsRequired" | translate }}
      </span>
      <span *ngIf="userForm.errors?.['passwordmatcherror']">
        {{ "UserConfirmation.ConfirmPassword" | translate }} {{ "UserConfirmation.Doesnotmatch" | translate }}
      </span>
    </div>

    <div class="form-check mb-3">
      <input
        type="checkbox"
        id="policy"
        formControlName="acceptPolicy"
        class="form-check-input"
      />
      <label for="policy" class="form-check-label">{{
        "UserConfirmation.policy" | translate
      }}</label>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!userForm.valid">
      {{ "UserConfirmation.Save" | translate }}
    </button>
  </form>
</ng-container>

<ng-container *ngIf="!validId">
  <div>....</div>
</ng-container>

<ng-container *ngIf="errorMessage">
  <div>{{ errorMessage }}</div>
</ng-container>
