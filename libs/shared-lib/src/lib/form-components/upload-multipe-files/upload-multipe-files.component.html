<input type="file" #upload hidden (change)="onSelectFile($event)" multiple />

<div class="uploadParent" (click)="upload.click()" (dragover)="onDragDrop($event)" (drop)="onDragDrop($event)" *ngIf="!viewData">
  <div class="">
    <i class="pi pi-cloud-upload uploadIcon"></i>
  </div>
  <p>Drag and Drop Files Here or Click to Upload.</p>
</div>



<p-table [value]="urls" styleClass="p-datatable-gridlines p-datatable-striped" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th>{{ 'EditJournal.Id' | translate }}</th>
      <th>{{ 'EditJournal.AccountName' | translate }}</th>
      <th>{{ 'EditJournal.AccountName' | translate }}</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-url let-rowIndex="rowIndex">
    <tr>
      <td>

        <div>
          {{rowIndex+1}}
        </div>

      </td>
      <td [pEditableColumn]="true" pEditableColumnField="fileName" *ngIf="!viewData">
        <p-cellEditor>
          <ng-template pTemplate="input">
            <lib-text-input type="text" (keyUp)="updateFileName(rowIndex , $event)"></lib-text-input>
          </ng-template>
          <ng-template pTemplate="output">
            <!-- {{ filesName[rowIndex] || url.name }} -->
            <!-- {{ filesName[rowIndex] ? filesName[rowIndex] : url.name }} -->
            {{ filesName[rowIndex] || url.name }}


          </ng-template>
        </p-cellEditor>
      </td>
      <td *ngIf="viewData">
        {{ filesName[rowIndex] || url.name }}

      </td>
      <td>
        <div class="action flex align-items-center justify-content-center w-full ">
          <lib-button-micro nameClass="table_button_download"
            (click)="downloadFile(url, files[rowIndex].name)"></lib-button-micro>
          <lib-button-micro nameClass="table_button_view" (click)="reviewAttachment( filesName[rowIndex]  ,url)" ></lib-button-micro>
          <lib-button-micro  *ngIf="!viewData" nameClass="table_button_delete" (click)="removeFile( filesName[rowIndex] , url ,rowIndex)"> </lib-button-micro>


        </div>

      </td>



    </tr>
  </ng-template>

</p-table>
<div class="modal-body" *ngIf="attachmentUrl">
  <iframe [src]="attachmentUrl" width="100%" height="500px"></iframe>
</div>